// svg.export.js 0.3 - Copyright (c) 2013 Wout Fierens - Licensed under the MIT license
SVG.extend(SVG.Element,{"export":function(e,t){var n,r,i,s,o,u=this.node.nodeName.toLowerCase(),a="";e=e||{};if(e.exclude==null||!e.exclude.call(this)){e=e||{};t=t||0;if(this instanceof SVG.Doc){a+=this._whitespaced('<?xml version="1.0" encoding="UTF-8"?>',e.whitespace,t);s=this.attr("width");o=this.attr("height");if(e.width)this.attr("width",e.width);if(e.height)this.attr("height",e.height)}a+=this._whitespaced("<"+u+this.attrToString()+">",e.whitespace,t);if(this instanceof SVG.Doc){this.attr({width:s,height:o});a+=this._whitespaced("<desc>Created with svg.js [http://svgjs.com]</desc>",e.whitespace,t+1)}if(this instanceof SVG.Container){i=this.children();for(n=0,r=i.length;n<r;n++)a+=i[n].export(e,t+1)}else if(this instanceof SVG.Wrap){a+=this.child.export(e,t+1)}a+=this._whitespaced("</"+u+">",e.whitespace,t)}return a},attrToString:function(){var e,t,n,r=[],i=this.data("export-attr"),s=this.attrs;if(typeof i=="object")for(e in i)s[e]=i[e];if(SVG._attrExportDefaults){t=SVG._attrExportDefaults}else{var o=this instanceof SVG.Doc?this.rect(0,0):this.doc().rect(0,0);t=SVG._attrExportDefaults=o.attrs;o.remove()}for(e in s){n=s[e];if(n!=t[e]){if(e=="xlink")e="xmlns:xlink";if(e!="data-export-attr")r.push(e+'="'+n+'"')}}return r.length?" "+r.join(" "):""},_whitespaced:function(e,t,n){if(t){var r="",s=t===true?"  ":t||"";for(i=n-1;i>=0;i--)r+=s;e=r+e+"\n"}return e}})